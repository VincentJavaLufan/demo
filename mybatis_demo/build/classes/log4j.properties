<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration PUBLIC "-//log4j/log4j Configuration//EN" "log4j.dtd">
 
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
 
    <!-- \u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0 -->
    <appender name="console" class="org.apache.log4j.ConsoleAppender">
        <!-- \u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f -->
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="[%p][%d{yyyy-MM-dd HH:mm:ss SSS}][%c]-[%m]%n"/>
        </layout>
 
        <!--\u8fc7\u6ee4\u5668\u8bbe\u7f6e\u8f93\u51fa\u7684\u7ea7\u522b-->
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <!-- \u8bbe\u7f6e\u65e5\u5fd7\u8f93\u51fa\u7684\u6700\u5c0f\u7ea7\u522b -->
            <param name="levelMin" value="INFO"/>
            <!-- \u8bbe\u7f6e\u65e5\u5fd7\u8f93\u51fa\u7684\u6700\u5927\u7ea7\u522b -->
            <param name="levelMax" value="ERROR"/>
        </filter>
    </appender>
 
 
    <!-- \u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6 -->
    <appender name="fileAppender" class="org.apache.log4j.FileAppender">
        <!-- \u8f93\u51fa\u6587\u4ef6\u5168\u8def\u5f84\u540d-->
        <param name="File" value="/data/applogs/own/fileAppender.log"/>
        <!--\u662f\u5426\u5728\u5df2\u5b58\u5728\u7684\u6587\u4ef6\u8ffd\u52a0\u5199\uff1a\u9ed8\u8ba4\u65f6true\uff0c\u82e5\u4e3afalse\u5219\u6bcf\u6b21\u542f\u52a8\u90fd\u4f1a\u5220\u9664\u5e76\u91cd\u65b0\u65b0\u5efa\u6587\u4ef6-->
        <param name="Append" value="false"/>
        <param name="Threshold" value="INFO"/>
        <!--\u662f\u5426\u542f\u7528\u7f13\u5b58\uff0c\u9ed8\u8ba4false-->
        <param name="BufferedIO" value="false"/>
        <!--\u7f13\u5b58\u5927\u5c0f\uff0c\u4f9d\u8d56\u4e0a\u4e00\u4e2a\u53c2\u6570(bufferedIO), \u9ed8\u8ba4\u7f13\u5b58\u5927\u5c0f8K  -->
        <param name="BufferSize" value="512"/>
        <!-- \u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f -->
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="[%p][%d{yyyy-MM-dd HH:mm:ss SSS}][%c]-[%m]%n"/>
        </layout>
    </appender>
 
 
    <!-- \u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6\uff0c\u5f53\u6587\u4ef6\u5927\u5c0f\u8fbe\u5230\u4e00\u5b9a\u9608\u503c\u65f6\uff0c\u81ea\u52a8\u5907\u4efd -->
    <!-- FileAppender\u5b50\u7c7b -->
    <appender name="rollingAppender" class="org.apache.log4j.RollingFileAppender">
        <!-- \u65e5\u5fd7\u6587\u4ef6\u5168\u8def\u5f84\u540d -->
        <param name="File" value="/data/applogs/RollingFileAppender.log" />
        <!--\u662f\u5426\u5728\u5df2\u5b58\u5728\u7684\u6587\u4ef6\u8ffd\u52a0\u5199\uff1a\u9ed8\u8ba4\u65f6true\uff0c\u82e5\u4e3afalse\u5219\u6bcf\u6b21\u542f\u52a8\u90fd\u4f1a\u5220\u9664\u5e76\u91cd\u65b0\u65b0\u5efa\u6587\u4ef6-->
        <param name="Append" value="true" />
        <!-- \u4fdd\u5b58\u5907\u4efd\u65e5\u5fd7\u7684\u6700\u5927\u4e2a\u6570\uff0c\u9ed8\u8ba4\u503c\u662f\uff1a1  -->
        <param name="MaxBackupIndex" value="10" />
        <!-- \u8bbe\u7f6e\u5f53\u65e5\u5fd7\u6587\u4ef6\u8fbe\u5230\u6b64\u9608\u503c\u7684\u65f6\u5019\u81ea\u52a8\u56de\u6eda\uff0c\u5355\u4f4d\u53ef\u4ee5\u662fKB\uff0cMB\uff0cGB\uff0c\u9ed8\u8ba4\u5355\u4f4d\u662fKB\uff0c\u9ed8\u8ba4\u503c\u662f\uff1a10MB -->
        <param name="MaxFileSize" value="10KB" />
        <!-- \u8bbe\u7f6e\u65e5\u5fd7\u8f93\u51fa\u7684\u6837\u5f0f -->`
        <layout class="org.apache.log4j.PatternLayout">
            <!-- \u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f -->
            <param name="ConversionPattern" value="[%d{yyyy-MM-dd HH:mm:ss:SSS}] [%-5p] [method:%l]%n%m%n%n" />
        </layout>
    </appender>
 
 
    <!-- \u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\uff0c\u53ef\u4ee5\u914d\u7f6e\u591a\u4e45\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u65e5\u5fd7\u4fe1\u606f\u6587\u4ef6 -->
    <appender name="dailyRollingAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <!-- \u6587\u4ef6\u6587\u4ef6\u5168\u8def\u5f84\u540d -->
        <param name="File" value="/data/applogs/own/dailyRollingAppender.log"/>
        <param name="Append" value="true" />
        <!-- \u8bbe\u7f6e\u65e5\u5fd7\u5907\u4efd\u9891\u7387\uff0c\u9ed8\u8ba4\uff1a\u4e3a\u6bcf\u5929\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6 -->
        <param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />
 
        <!--\u6bcf\u5206\u949f\u4e00\u4e2a\u5907\u4efd-->
        <!--<param name="DatePattern" value="'.'yyyy-MM-dd-HH-mm'.log'" />-->
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="[%p][%d{HH:mm:ss SSS}][%c]-[%m]%n"/>
        </layout>
    </appender>
 
 
    <!--
        1. \u6307\u5b9alogger\u7684\u8bbe\u7f6e\uff0cadditivity\u662f\u5426\u9075\u5faa\u7f3a\u7701\u7684\u7ee7\u627f\u673a\u5236
        2. \u5f53additivity="false"\u65f6\uff0croot\u4e2d\u7684\u914d\u7f6e\u5c31\u5931\u7075\u4e86\uff0c\u4e0d\u9075\u5faa\u7f3a\u7701\u7684\u7ee7\u627f\u673a\u5236
        3. \u4ee3\u7801\u4e2d\u4f7f\u7528Logger.getLogger("logTest")\u83b7\u5f97\u6b64\u8f93\u51fa\u5668\uff0c\u4e14\u4e0d\u4f1a\u4f7f\u7528\u6839\u8f93\u51fa\u5668
    -->
    <logger name="logTest" additivity="false">
        <level value ="INFO"/>
        <appender-ref ref="dailyRollingAppender"/>
    </logger>
 
 
    <!-- \u6839logger\u7684\u8bbe\u7f6e\uff0c\u82e5\u4ee3\u7801\u4e2d\u672a\u627e\u5230\u6307\u5b9a\u7684logger\uff0c\u5219\u4f1a\u6839\u636e\u7ee7\u627f\u673a\u5236\uff0c\u4f7f\u7528\u6839logger-->
    <root>
        <appender-ref ref="console"/>
        <appender-ref ref="fileAppender"/>
        <appender-ref ref="rollingAppender"/>
        <appender-ref ref="dailyRollingAppender"/>
    </root>
 
</log4j:configuration>